{"remainingRequest":"/Users/ssabi/Desktop/과제 테스트/comento/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ssabi/Desktop/과제 테스트/comento/src/components/Advertisement.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/ssabi/Desktop/과제 테스트/comento/src/components/Advertisement.vue","mtime":1615279319200},{"path":"/Users/ssabi/Desktop/과제 테스트/comento/node_modules/cache-loader/dist/cjs.js","mtime":1614759376163},{"path":"/Users/ssabi/Desktop/과제 테스트/comento/node_modules/babel-loader/lib/index.js","mtime":1614759376187},{"path":"/Users/ssabi/Desktop/과제 테스트/comento/node_modules/cache-loader/dist/cjs.js","mtime":1614759376163},{"path":"/Users/ssabi/Desktop/과제 테스트/comento/node_modules/vue-loader/lib/index.js","mtime":1614759383779}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgpjb25zdCBJTUFHRV9VUkwgPSAnaHR0cHM6Ly9jZG4uY29tZW50by5rci9hc3NpZ25tZW50Lyc7CgpleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiAnQWR2ZXJ0aXNlbWVudCcsCiAgICBwcm9wczogWydhZCddLAogICAgZGF0YSgpewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGlvOiBudWxsLAogICAgICAgIH0KICAgIH0sCiAgICBjb21wdXRlZDp7CiAgICAgICAgdGl0bGUoKXsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuYWQudGl0bGUubGVuZ3RoID4gODAgPyB0aGlzLmFkLnRpdGxlLnN1YnN0cmluZygwLCA4MCkgKyAnLi4uJyA6IHRoaXMuYWQudGl0bGU7CiAgICAgICAgfSwKICAgICAgICBjb250ZW50cygpewogICAgICAgICAgICByZXR1cm4gdGhpcy5hZC5jb250ZW50cy5sZW5ndGggPiA4MCA/IHRoaXMuYWQuY29udGVudHMuc3Vic3RyaW5nKDAsIDgwKSArICcuLi4nIDogdGhpcy5hZC5jb250ZW50czsKICAgICAgICB9CiAgICB9LAogICAgbW91bnRlZCgpewogICAgICAgIGNvbnN0IGlvID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKChlbnRyaWVzLCBvYnNlcnZlcikgPT4gewogICAgICAgICAgICBlbnRyaWVzLmZvckVhY2goZW50cnkgPT4gewogICAgICAgICAgICAgICAgaWYoZW50cnkuaXNJbnRlcnNlY3RpbmcpewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IGVudHJ5LnRhcmdldDsKICAgICAgICAgICAgICAgICAgICB0YXJnZXQuc3JjID0gIElNQUdFX1VSTCArIHRoaXMuYWQuaW1nOwogICAgICAgICAgICAgICAgICAgIG9ic2VydmVyLmRpc2Nvbm5lY3QodGFyZ2V0KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkKICAgICAgICB9LCB7dGhyZXNob2xkOiAwLjV9KTsKCiAgICAgICAgdGhpcy5pbyA9IGlvOwogICAgICAgIGNvbnN0IGltZyA9IHRoaXMuJHJlZnMuaW1nOwoKICAgICAgICBpby5vYnNlcnZlKGltZyk7CiAgICB9LAogICAgdW5tb3VudGVkKCkgewogICAgICAgIHRoaXMuaW8uZGlzY29ubmVjdCgpOyAgCiAgICB9LAp9Cg=="},{"version":3,"sources":["Advertisement.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAkBA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"Advertisement.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <article>\n        <a class=\"card\">\n            <p class=\"flex flex-row flex-v-middle flex-between h7 mb-15\">\n                <span class=\"text-caption\">sponsored</span>\n            </p>\n            <hr>\n            <div class=\"clearfix\">\n                <img class=\"ad-img mr-30\" ref=\"img\" />\n                <h1 class=\"card-title\">{{title}}</h1>\n                <p class=\"mb-20\">{{contents}} </p>\n            </div>\n        </a>\n    </article>\n</template>\n\n<script>\n\nconst IMAGE_URL = 'https://cdn.comento.kr/assignment/';\n\nexport default {\n    name: 'Advertisement',\n    props: ['ad'],\n    data(){\n        return {\n            io: null,\n        }\n    },\n    computed:{\n        title(){\n            return this.ad.title.length > 80 ? this.ad.title.substring(0, 80) + '...' : this.ad.title;\n        },\n        contents(){\n            return this.ad.contents.length > 80 ? this.ad.contents.substring(0, 80) + '...' : this.ad.contents;\n        }\n    },\n    mounted(){\n        const io = new IntersectionObserver((entries, observer) => {\n            entries.forEach(entry => {\n                if(entry.isIntersecting){\n                    const target = entry.target;\n                    target.src =  IMAGE_URL + this.ad.img;\n                    observer.disconnect(target);\n                }\n            })\n        }, {threshold: 0.5});\n\n        this.io = io;\n        const img = this.$refs.img;\n\n        io.observe(img);\n    },\n    unmounted() {\n        this.io.disconnect();  \n    },\n}\n</script>"]}]}