{"remainingRequest":"/Users/ssabi/Desktop/comento/node_modules/babel-loader/lib/index.js!/Users/ssabi/Desktop/comento/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/ssabi/Desktop/comento/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ssabi/Desktop/comento/src/components/Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/ssabi/Desktop/comento/src/components/Home.vue","mtime":1615281410968},{"path":"/Users/ssabi/Desktop/comento/node_modules/cache-loader/dist/cjs.js","mtime":1614759376163},{"path":"/Users/ssabi/Desktop/comento/node_modules/babel-loader/lib/index.js","mtime":1614759376187},{"path":"/Users/ssabi/Desktop/comento/node_modules/cache-loader/dist/cjs.js","mtime":1614759376163},{"path":"/Users/ssabi/Desktop/comento/node_modules/vue-loader/lib/index.js","mtime":1614759383779}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL3NzYWJpL0Rlc2t0b3AvY29tZW50by9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBtYXBHZXR0ZXJzLCBtYXBBY3Rpb25zIH0gZnJvbSAndnVleCc7CmltcG9ydCBGZWVkIGZyb20gJy4vRmVlZCc7CmltcG9ydCBDYXRlZ29yeSBmcm9tICcuL0NhdGVnb3J5JzsKaW1wb3J0IEFkdmVydGlzZW1lbnQgZnJvbSAnLi9BZHZlcnRpc2VtZW50JzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdIb21lJywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaW86IG51bGwsCiAgICAgIHNlbGVjdGVkSW5kZXg6IDAsCiAgICAgIG9yZGVyczogW3sKICAgICAgICB0ZXh0OiAi7Jik66aE7LCo7IicIiwKICAgICAgICB2YWx1ZTogJ2FzYycsCiAgICAgICAgYWN0aXZlOiB0cnVlCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiAi64K066a87LCo7IicIiwKICAgICAgICB2YWx1ZTogJ2Rlc2MnLAogICAgICAgIGFjdGl2ZTogZmFsc2UKICAgICAgfV0sCiAgICAgIHNob3dNb2RhbDogZmFsc2UKICAgIH07CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBGZWVkOiBGZWVkLAogICAgQ2F0ZWdvcnk6IENhdGVnb3J5LAogICAgQWR2ZXJ0aXNlbWVudDogQWR2ZXJ0aXNlbWVudAogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoe30sIG1hcEdldHRlcnMoWyJmZWVkcyIsICJuZXh0UGFnZVVybCIsICJhZHMiLCAiZGV0YWlsIl0pKSwKICBtZXRob2RzOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcEFjdGlvbnMoWyJmZXRjaFBhZ2VzIiwgImFkZFBhZ2VzIiwgInNldE9yZGVyIiwgImZldGNoRGV0YWlsIl0pKSwge30sIHsKICAgIHRvZ2dsZUFjdGl2ZTogZnVuY3Rpb24gdG9nZ2xlQWN0aXZlKGkpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMub3JkZXJzLmZvckVhY2goZnVuY3Rpb24gKG9yZGVyLCBpbmRleCkgewogICAgICAgIG9yZGVyLmFjdGl2ZSA9IGluZGV4ID09PSBpOwogICAgICAgIGlmIChvcmRlci5hY3RpdmUpIF90aGlzLnNldE9yZGVyKG9yZGVyLnZhbHVlKTsKICAgICAgfSk7CiAgICB9LAogICAgbW92ZURldGFpbDogZnVuY3Rpb24gbW92ZURldGFpbChpZCkgewogICAgICB0aGlzLmZldGNoRGV0YWlsKGlkKTsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIG5hbWU6ICdEZXRhaWwnLAogICAgICAgIHBhcmFtczogewogICAgICAgICAgaWQ6IGlkCiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9KSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgaWYgKHRoaXMuZmVlZHMubGVuZ3RoID09IDApIHRoaXMuZmV0Y2hQYWdlcygpOwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgIHZhciBpbyA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihmdW5jdGlvbiAoZW50cmllcywgb2JzZXJ2ZXIpIHsKICAgICAgZW50cmllcy5mb3JFYWNoKGZ1bmN0aW9uIChlbnRyeSkgewogICAgICAgIGlmIChlbnRyeS5pc0ludGVyc2VjdGluZykgewogICAgICAgICAgdmFyIHRhcmdldCA9IGVudHJ5LnRhcmdldDsKICAgICAgICAgIG9ic2VydmVyLnVub2JzZXJ2ZSh0YXJnZXQpOwogICAgICAgICAgaWYgKCFfdGhpczIubmV4dFBhZ2VVcmwpIHJldHVybjsKCiAgICAgICAgICBfdGhpczIuYWRkUGFnZXMoKTsKCiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZSh0YXJnZXQpOwogICAgICAgICAgfSwgMTAwMCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sIHsKICAgICAgdGhyZXNob2xkOiAxLjAKICAgIH0pOwogICAgdGhpcy5pbyA9IGlvOwogICAgdmFyIGxhc3RDaGlsZCA9IHRoaXMuJHJlZnMubGFzdENoaWxkOwoKICAgIGlmIChsYXN0Q2hpbGQpIHsKICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgaW8ub2JzZXJ2ZShsYXN0Q2hpbGQpOwogICAgICB9LCAxMDAwKTsKICAgIH0KICB9LAogIHVubW91bnRlZDogZnVuY3Rpb24gdW5tb3VudGVkKCkgewogICAgdGhpcy5pby5kaXNjb25uZWN0KCk7CiAgfQp9Ow=="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuCA,SAAA,UAAA,EAAA,UAAA,QAAA,MAAA;AACA,OAAA,IAAA,MAAA,QAAA;AACA,OAAA,QAAA,MAAA,YAAA;AACA,OAAA,aAAA,MAAA,iBAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,MADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,EAAA,EAAA,IADA;AAEA,MAAA,aAAA,EAAA,CAFA;AAGA,MAAA,MAAA,EAAA,CACA;AACA,QAAA,IAAA,EAAA,MADA;AAEA,QAAA,KAAA,EAAA,KAFA;AAGA,QAAA,MAAA,EAAA;AAHA,OADA,EAMA;AACA,QAAA,IAAA,EAAA,MADA;AAEA,QAAA,KAAA,EAAA,MAFA;AAGA,QAAA,MAAA,EAAA;AAHA,OANA,CAHA;AAeA,MAAA,SAAA,EAAA;AAfA,KAAA;AAiBA,GApBA;AAqBA,EAAA,UAAA,EAAA;AACA,IAAA,IAAA,EAAA,IADA;AAEA,IAAA,QAAA,EAAA,QAFA;AAGA,IAAA,aAAA,EAAA;AAHA,GArBA;AA0BA,EAAA,QAAA,oBACA,UAAA,CAAA,CAAA,OAAA,EAAA,aAAA,EAAA,KAAA,EAAA,QAAA,CAAA,CADA,CA1BA;AA6BA,EAAA,OAAA,kCACA,UAAA,CAAA,CAAA,YAAA,EAAA,UAAA,EAAA,UAAA,EAAA,aAAA,CAAA,CADA;AAEA,IAAA,YAFA,wBAEA,CAFA,EAEA;AAAA;;AACA,WAAA,MAAA,CAAA,OAAA,CAAA,UAAA,KAAA,EAAA,KAAA,EAAA;AACA,QAAA,KAAA,CAAA,MAAA,GAAA,KAAA,KAAA,CAAA;AAEA,YAAA,KAAA,CAAA,MAAA,EAAA,KAAA,CAAA,QAAA,CAAA,KAAA,CAAA,KAAA;AACA,OAJA;AAKA,KARA;AASA,IAAA,UATA,sBASA,EATA,EASA;AACA,WAAA,WAAA,CAAA,EAAA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AACA,QAAA,IAAA,EAAA,QADA;AAEA,QAAA,MAAA,EAAA;AACA,UAAA,EAAA,EAAA;AADA;AAFA,OAAA;AAMA;AAjBA,IA7BA;AAgDA,EAAA,OAhDA,qBAgDA;AACA,QAAA,KAAA,KAAA,CAAA,MAAA,IAAA,CAAA,EAAA,KAAA,UAAA;AACA,GAlDA;AAmDA,EAAA,OAnDA,qBAmDA;AAAA;;AACA,QAAA,EAAA,GAAA,IAAA,oBAAA,CAAA,UAAA,OAAA,EAAA,QAAA,EAAA;AACA,MAAA,OAAA,CAAA,OAAA,CAAA,UAAA,KAAA,EAAA;AACA,YAAA,KAAA,CAAA,cAAA,EAAA;AACA,cAAA,MAAA,GAAA,KAAA,CAAA,MAAA;AACA,UAAA,QAAA,CAAA,SAAA,CAAA,MAAA;AAEA,cAAA,CAAA,MAAA,CAAA,WAAA,EAAA;;AAEA,UAAA,MAAA,CAAA,QAAA;;AACA,UAAA,UAAA,CAAA,YAAA;AACA,YAAA,QAAA,CAAA,OAAA,CAAA,MAAA;AACA,WAFA,EAEA,IAFA,CAAA;AAGA;AACA,OAZA;AAaA,KAdA,EAcA;AAAA,MAAA,SAAA,EAAA;AAAA,KAdA,CAAA;AAgBA,SAAA,EAAA,GAAA,EAAA;AACA,QAAA,SAAA,GAAA,KAAA,KAAA,CAAA,SAAA;;AAEA,QAAA,SAAA,EAAA;AACA,MAAA,UAAA,CAAA,YAAA;AACA,QAAA,EAAA,CAAA,OAAA,CAAA,SAAA;AACA,OAFA,EAEA,IAFA,CAAA;AAGA;AACA,GA5EA;AA6EA,EAAA,SA7EA,uBA6EA;AACA,SAAA,EAAA,CAAA,UAAA;AACA;AA/EA,CAAA","sourcesContent":["<template>\n    <div class=\"container\">\n        <div class=\"card-wrapper\">\n            <div class=\"filter-container\">\n            <div class=\"flex flex-row flex-v-middle flex-between mb-15\">\n                <ul class=\"radio-nav-group\">\n                    <li v-for=\"(order, index) in orders\" \n                        v-bind:class=\"{active: order.active}\" \n                        @click=\"toggleActive(index)\"\n                        v-bind:key=\"index\"\n                        >\n                            {{order.text}}\n                    </li>\n                </ul>\n                <button class=\"btn btn-sm\" @click=\"showModal = true\"> <span class=\"text-caption\">필터</span></button>\n                </div>\n            </div>\n            <section>\n                <template v-for=\"(feed, index) in feeds\">\n                    <Feed v-if=\"index == 0 || index % 4 != 0\" v-bind:key=\"feed.id\" v-bind:feed=\"feed\" @click.native=\"moveDetail(feed.id)\" />\n                    <template v-else-if=\"index > 0 && index % 4 == 0\">\n                        <Advertisement v-bind:key=\"'ad'+feed.id\" v-bind:ad=\"ads[index]\" />\n                        <Feed v-bind:key=\"feed.id\" v-bind:feed=\"feed\" @click.native=\"moveDetail(feed.id)\" />\n                    </template>\n                </template>\n                <div ref=\"lastChild\">\n                </div>\n            </section>\n        </div>\n        <div class=\"sider\">\n            <nav class=\"sider-nav\">\n                <button class=\"btn-green\">로그인</button>\n            </nav>\n        </div>\n        <Category v-if=\"showModal\" @close=\"showModal = false\"/>\n    </div>\n</template>\n\n<script>\nimport {mapGetters, mapActions} from 'vuex'\nimport Feed from './Feed'\nimport Category from './Category'\nimport Advertisement from './Advertisement'\n\nexport default {\n    name: 'Home',\n    data(){\n        return{\n            io: null,\n            selectedIndex: 0,\n            orders: [\n                {\n                    text: \"오름차순\",\n                    value: 'asc',\n                    active: true,\n                },\n                {\n                    text: \"내림차순\",\n                    value: 'desc',\n                    active: false,\n                }\n            ],\n            showModal: false,\n        }\n    },\n    components: {\n        Feed,\n        Category,\n        Advertisement,\n    },\n    computed:{\n        ...mapGetters([\"feeds\", \"nextPageUrl\", \"ads\", \"detail\"]),\n    },\n    methods: {\n        ...mapActions([\"fetchPages\", \"addPages\", \"setOrder\", \"fetchDetail\"]),\n        toggleActive(i){\n           this.orders.forEach((order, index) => {\n               order.active = (index === i);\n\n               if(order.active) this.setOrder(order.value);\n           })\n        },\n        moveDetail(id){\n            this.fetchDetail(id);\n            this.$router.push({\n                name: 'Detail',\n                params:{\n                    id: id\n                }\n            });\n        }\n    },\n    created(){\n        if(this.feeds.length == 0) this.fetchPages();\n    },\n    mounted(){\n        const io = new IntersectionObserver((entries, observer) => {\n            entries.forEach(entry => {\n                if(entry.isIntersecting){\n                    const target = entry.target;\n                    observer.unobserve(target);\n\n                    if(!this.nextPageUrl) return;\n\n                    this.addPages();\n                    setTimeout(()=>{\n                        observer.observe(target);\n                    }, 1000);\n                }\n            })\n        }, {threshold: 1.0});\n\n        this.io = io;\n        const lastChild = this.$refs.lastChild;\n\n        if(lastChild){\n            setTimeout(() => {\n                io.observe(lastChild);\n            }, 1000) ;\n        }\n    },\n    unmounted() {\n        this.io.disconnect();\n    },\n}\n</script>"],"sourceRoot":"src/components"}]}