{"remainingRequest":"/Users/ssabi/Desktop/과제 테스트/comento/node_modules/babel-loader/lib/index.js!/Users/ssabi/Desktop/과제 테스트/comento/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/ssabi/Desktop/과제 테스트/comento/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ssabi/Desktop/과제 테스트/comento/src/components/Advertisement.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/ssabi/Desktop/과제 테스트/comento/src/components/Advertisement.vue","mtime":1615279319200},{"path":"/Users/ssabi/Desktop/과제 테스트/comento/node_modules/cache-loader/dist/cjs.js","mtime":1614759376163},{"path":"/Users/ssabi/Desktop/과제 테스트/comento/node_modules/babel-loader/lib/index.js","mtime":1614759376187},{"path":"/Users/ssabi/Desktop/과제 테스트/comento/node_modules/cache-loader/dist/cjs.js","mtime":1614759376163},{"path":"/Users/ssabi/Desktop/과제 테스트/comento/node_modules/vue-loader/lib/index.js","mtime":1614759383779}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCnZhciBJTUFHRV9VUkwgPSAnaHR0cHM6Ly9jZG4uY29tZW50by5rci9hc3NpZ25tZW50Lyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQWR2ZXJ0aXNlbWVudCcsCiAgcHJvcHM6IFsnYWQnXSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaW86IG51bGwKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgdGl0bGU6IGZ1bmN0aW9uIHRpdGxlKCkgewogICAgICByZXR1cm4gdGhpcy5hZC50aXRsZS5sZW5ndGggPiA4MCA/IHRoaXMuYWQudGl0bGUuc3Vic3RyaW5nKDAsIDgwKSArICcuLi4nIDogdGhpcy5hZC50aXRsZTsKICAgIH0sCiAgICBjb250ZW50czogZnVuY3Rpb24gY29udGVudHMoKSB7CiAgICAgIHJldHVybiB0aGlzLmFkLmNvbnRlbnRzLmxlbmd0aCA+IDgwID8gdGhpcy5hZC5jb250ZW50cy5zdWJzdHJpbmcoMCwgODApICsgJy4uLicgOiB0aGlzLmFkLmNvbnRlbnRzOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgdmFyIGlvID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKGZ1bmN0aW9uIChlbnRyaWVzLCBvYnNlcnZlcikgewogICAgICBlbnRyaWVzLmZvckVhY2goZnVuY3Rpb24gKGVudHJ5KSB7CiAgICAgICAgaWYgKGVudHJ5LmlzSW50ZXJzZWN0aW5nKSB7CiAgICAgICAgICB2YXIgdGFyZ2V0ID0gZW50cnkudGFyZ2V0OwogICAgICAgICAgdGFyZ2V0LnNyYyA9IElNQUdFX1VSTCArIF90aGlzLmFkLmltZzsKICAgICAgICAgIG9ic2VydmVyLmRpc2Nvbm5lY3QodGFyZ2V0KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwgewogICAgICB0aHJlc2hvbGQ6IDAuNQogICAgfSk7CiAgICB0aGlzLmlvID0gaW87CiAgICB2YXIgaW1nID0gdGhpcy4kcmVmcy5pbWc7CiAgICBpby5vYnNlcnZlKGltZyk7CiAgfSwKICB1bm1vdW50ZWQ6IGZ1bmN0aW9uIHVubW91bnRlZCgpIHsKICAgIHRoaXMuaW8uZGlzY29ubmVjdCgpOwogIH0KfTs="},{"version":3,"sources":["Advertisement.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAkBA,IAAA,SAAA,GAAA,oCAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,eADA;AAEA,EAAA,KAAA,EAAA,CAAA,IAAA,CAFA;AAGA,EAAA,IAHA,kBAGA;AACA,WAAA;AACA,MAAA,EAAA,EAAA;AADA,KAAA;AAGA,GAPA;AAQA,EAAA,QAAA,EAAA;AACA,IAAA,KADA,mBACA;AACA,aAAA,KAAA,EAAA,CAAA,KAAA,CAAA,MAAA,GAAA,EAAA,GAAA,KAAA,EAAA,CAAA,KAAA,CAAA,SAAA,CAAA,CAAA,EAAA,EAAA,IAAA,KAAA,GAAA,KAAA,EAAA,CAAA,KAAA;AACA,KAHA;AAIA,IAAA,QAJA,sBAIA;AACA,aAAA,KAAA,EAAA,CAAA,QAAA,CAAA,MAAA,GAAA,EAAA,GAAA,KAAA,EAAA,CAAA,QAAA,CAAA,SAAA,CAAA,CAAA,EAAA,EAAA,IAAA,KAAA,GAAA,KAAA,EAAA,CAAA,QAAA;AACA;AANA,GARA;AAgBA,EAAA,OAhBA,qBAgBA;AAAA;;AACA,QAAA,EAAA,GAAA,IAAA,oBAAA,CAAA,UAAA,OAAA,EAAA,QAAA,EAAA;AACA,MAAA,OAAA,CAAA,OAAA,CAAA,UAAA,KAAA,EAAA;AACA,YAAA,KAAA,CAAA,cAAA,EAAA;AACA,cAAA,MAAA,GAAA,KAAA,CAAA,MAAA;AACA,UAAA,MAAA,CAAA,GAAA,GAAA,SAAA,GAAA,KAAA,CAAA,EAAA,CAAA,GAAA;AACA,UAAA,QAAA,CAAA,UAAA,CAAA,MAAA;AACA;AACA,OANA;AAOA,KARA,EAQA;AAAA,MAAA,SAAA,EAAA;AAAA,KARA,CAAA;AAUA,SAAA,EAAA,GAAA,EAAA;AACA,QAAA,GAAA,GAAA,KAAA,KAAA,CAAA,GAAA;AAEA,IAAA,EAAA,CAAA,OAAA,CAAA,GAAA;AACA,GA/BA;AAgCA,EAAA,SAhCA,uBAgCA;AACA,SAAA,EAAA,CAAA,UAAA;AACA;AAlCA,CAAA","sourcesContent":["<template>\n    <article>\n        <a class=\"card\">\n            <p class=\"flex flex-row flex-v-middle flex-between h7 mb-15\">\n                <span class=\"text-caption\">sponsored</span>\n            </p>\n            <hr>\n            <div class=\"clearfix\">\n                <img class=\"ad-img mr-30\" ref=\"img\" />\n                <h1 class=\"card-title\">{{title}}</h1>\n                <p class=\"mb-20\">{{contents}} </p>\n            </div>\n        </a>\n    </article>\n</template>\n\n<script>\n\nconst IMAGE_URL = 'https://cdn.comento.kr/assignment/';\n\nexport default {\n    name: 'Advertisement',\n    props: ['ad'],\n    data(){\n        return {\n            io: null,\n        }\n    },\n    computed:{\n        title(){\n            return this.ad.title.length > 80 ? this.ad.title.substring(0, 80) + '...' : this.ad.title;\n        },\n        contents(){\n            return this.ad.contents.length > 80 ? this.ad.contents.substring(0, 80) + '...' : this.ad.contents;\n        }\n    },\n    mounted(){\n        const io = new IntersectionObserver((entries, observer) => {\n            entries.forEach(entry => {\n                if(entry.isIntersecting){\n                    const target = entry.target;\n                    target.src =  IMAGE_URL + this.ad.img;\n                    observer.disconnect(target);\n                }\n            })\n        }, {threshold: 0.5});\n\n        this.io = io;\n        const img = this.$refs.img;\n\n        io.observe(img);\n    },\n    unmounted() {\n        this.io.disconnect();  \n    },\n}\n</script>"],"sourceRoot":"src/components"}]}