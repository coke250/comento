{"remainingRequest":"/Users/ssabi/Desktop/과제 테스트/comento/node_modules/babel-loader/lib/index.js!/Users/ssabi/Desktop/과제 테스트/comento/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/ssabi/Desktop/과제 테스트/comento/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ssabi/Desktop/과제 테스트/comento/src/components/Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/ssabi/Desktop/과제 테스트/comento/src/components/Home.vue","mtime":1615281410968},{"path":"/Users/ssabi/Desktop/과제 테스트/comento/node_modules/cache-loader/dist/cjs.js","mtime":1614759376163},{"path":"/Users/ssabi/Desktop/과제 테스트/comento/node_modules/babel-loader/lib/index.js","mtime":1614759376187},{"path":"/Users/ssabi/Desktop/과제 테스트/comento/node_modules/cache-loader/dist/cjs.js","mtime":1614759376163},{"path":"/Users/ssabi/Desktop/과제 테스트/comento/node_modules/vue-loader/lib/index.js","mtime":1614759383779}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL3NzYWJpL0Rlc2t0b3AvXHUxMTAwXHUxMTZBXHUxMTBDXHUxMTY2IFx1MTExMFx1MTE2Nlx1MTEwOVx1MTE3M1x1MTExMFx1MTE3My9jb21lbnRvL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IG1hcEdldHRlcnMsIG1hcEFjdGlvbnMgfSBmcm9tICd2dWV4JzsKaW1wb3J0IEZlZWQgZnJvbSAnLi9GZWVkJzsKaW1wb3J0IENhdGVnb3J5IGZyb20gJy4vQ2F0ZWdvcnknOwppbXBvcnQgQWR2ZXJ0aXNlbWVudCBmcm9tICcuL0FkdmVydGlzZW1lbnQnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0hvbWUnLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpbzogbnVsbCwKICAgICAgc2VsZWN0ZWRJbmRleDogMCwKICAgICAgb3JkZXJzOiBbewogICAgICAgIHRleHQ6ICLsmKTrpoTssKjsiJwiLAogICAgICAgIHZhbHVlOiAnYXNjJywKICAgICAgICBhY3RpdmU6IHRydWUKICAgICAgfSwgewogICAgICAgIHRleHQ6ICLrgrTrprzssKjsiJwiLAogICAgICAgIHZhbHVlOiAnZGVzYycsCiAgICAgICAgYWN0aXZlOiBmYWxzZQogICAgICB9XSwKICAgICAgc2hvd01vZGFsOiBmYWxzZQogICAgfTsKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIEZlZWQ6IEZlZWQsCiAgICBDYXRlZ29yeTogQ2F0ZWdvcnksCiAgICBBZHZlcnRpc2VtZW50OiBBZHZlcnRpc2VtZW50CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZCh7fSwgbWFwR2V0dGVycyhbImZlZWRzIiwgIm5leHRQYWdlVXJsIiwgImFkcyIsICJkZXRhaWwiXSkpLAogIG1ldGhvZHM6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwQWN0aW9ucyhbImZldGNoUGFnZXMiLCAiYWRkUGFnZXMiLCAic2V0T3JkZXIiLCAiZmV0Y2hEZXRhaWwiXSkpLCB7fSwgewogICAgdG9nZ2xlQWN0aXZlOiBmdW5jdGlvbiB0b2dnbGVBY3RpdmUoaSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy5vcmRlcnMuZm9yRWFjaChmdW5jdGlvbiAob3JkZXIsIGluZGV4KSB7CiAgICAgICAgb3JkZXIuYWN0aXZlID0gaW5kZXggPT09IGk7CiAgICAgICAgaWYgKG9yZGVyLmFjdGl2ZSkgX3RoaXMuc2V0T3JkZXIob3JkZXIudmFsdWUpOwogICAgICB9KTsKICAgIH0sCiAgICBtb3ZlRGV0YWlsOiBmdW5jdGlvbiBtb3ZlRGV0YWlsKGlkKSB7CiAgICAgIHRoaXMuZmV0Y2hEZXRhaWwoaWQpOwogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgbmFtZTogJ0RldGFpbCcsCiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICBpZDogaWQKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0pLAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICBpZiAodGhpcy5mZWVkcy5sZW5ndGggPT0gMCkgdGhpcy5mZXRjaFBhZ2VzKCk7CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgdmFyIGlvID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKGZ1bmN0aW9uIChlbnRyaWVzLCBvYnNlcnZlcikgewogICAgICBlbnRyaWVzLmZvckVhY2goZnVuY3Rpb24gKGVudHJ5KSB7CiAgICAgICAgaWYgKGVudHJ5LmlzSW50ZXJzZWN0aW5nKSB7CiAgICAgICAgICB2YXIgdGFyZ2V0ID0gZW50cnkudGFyZ2V0OwogICAgICAgICAgb2JzZXJ2ZXIudW5vYnNlcnZlKHRhcmdldCk7CiAgICAgICAgICBpZiAoIV90aGlzMi5uZXh0UGFnZVVybCkgcmV0dXJuOwoKICAgICAgICAgIF90aGlzMi5hZGRQYWdlcygpOwoKICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICBvYnNlcnZlci5vYnNlcnZlKHRhcmdldCk7CiAgICAgICAgICB9LCAxMDAwKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwgewogICAgICB0aHJlc2hvbGQ6IDEuMAogICAgfSk7CiAgICB0aGlzLmlvID0gaW87CiAgICB2YXIgbGFzdENoaWxkID0gdGhpcy4kcmVmcy5sYXN0Q2hpbGQ7CgogICAgaWYgKGxhc3RDaGlsZCkgewogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBpby5vYnNlcnZlKGxhc3RDaGlsZCk7CiAgICAgIH0sIDEwMDApOwogICAgfQogIH0sCiAgdW5tb3VudGVkOiBmdW5jdGlvbiB1bm1vdW50ZWQoKSB7CiAgICB0aGlzLmlvLmRpc2Nvbm5lY3QoKTsKICB9Cn07"},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuCA,SAAA,UAAA,EAAA,UAAA,QAAA,MAAA;AACA,OAAA,IAAA,MAAA,QAAA;AACA,OAAA,QAAA,MAAA,YAAA;AACA,OAAA,aAAA,MAAA,iBAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,MADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,EAAA,EAAA,IADA;AAEA,MAAA,aAAA,EAAA,CAFA;AAGA,MAAA,MAAA,EAAA,CACA;AACA,QAAA,IAAA,EAAA,MADA;AAEA,QAAA,KAAA,EAAA,KAFA;AAGA,QAAA,MAAA,EAAA;AAHA,OADA,EAMA;AACA,QAAA,IAAA,EAAA,MADA;AAEA,QAAA,KAAA,EAAA,MAFA;AAGA,QAAA,MAAA,EAAA;AAHA,OANA,CAHA;AAeA,MAAA,SAAA,EAAA;AAfA,KAAA;AAiBA,GApBA;AAqBA,EAAA,UAAA,EAAA;AACA,IAAA,IAAA,EAAA,IADA;AAEA,IAAA,QAAA,EAAA,QAFA;AAGA,IAAA,aAAA,EAAA;AAHA,GArBA;AA0BA,EAAA,QAAA,oBACA,UAAA,CAAA,CAAA,OAAA,EAAA,aAAA,EAAA,KAAA,EAAA,QAAA,CAAA,CADA,CA1BA;AA6BA,EAAA,OAAA,kCACA,UAAA,CAAA,CAAA,YAAA,EAAA,UAAA,EAAA,UAAA,EAAA,aAAA,CAAA,CADA;AAEA,IAAA,YAFA,wBAEA,CAFA,EAEA;AAAA;;AACA,WAAA,MAAA,CAAA,OAAA,CAAA,UAAA,KAAA,EAAA,KAAA,EAAA;AACA,QAAA,KAAA,CAAA,MAAA,GAAA,KAAA,KAAA,CAAA;AAEA,YAAA,KAAA,CAAA,MAAA,EAAA,KAAA,CAAA,QAAA,CAAA,KAAA,CAAA,KAAA;AACA,OAJA;AAKA,KARA;AASA,IAAA,UATA,sBASA,EATA,EASA;AACA,WAAA,WAAA,CAAA,EAAA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AACA,QAAA,IAAA,EAAA,QADA;AAEA,QAAA,MAAA,EAAA;AACA,UAAA,EAAA,EAAA;AADA;AAFA,OAAA;AAMA;AAjBA,IA7BA;AAgDA,EAAA,OAhDA,qBAgDA;AACA,QAAA,KAAA,KAAA,CAAA,MAAA,IAAA,CAAA,EAAA,KAAA,UAAA;AACA,GAlDA;AAmDA,EAAA,OAnDA,qBAmDA;AAAA;;AACA,QAAA,EAAA,GAAA,IAAA,oBAAA,CAAA,UAAA,OAAA,EAAA,QAAA,EAAA;AACA,MAAA,OAAA,CAAA,OAAA,CAAA,UAAA,KAAA,EAAA;AACA,YAAA,KAAA,CAAA,cAAA,EAAA;AACA,cAAA,MAAA,GAAA,KAAA,CAAA,MAAA;AACA,UAAA,QAAA,CAAA,SAAA,CAAA,MAAA;AAEA,cAAA,CAAA,MAAA,CAAA,WAAA,EAAA;;AAEA,UAAA,MAAA,CAAA,QAAA;;AACA,UAAA,UAAA,CAAA,YAAA;AACA,YAAA,QAAA,CAAA,OAAA,CAAA,MAAA;AACA,WAFA,EAEA,IAFA,CAAA;AAGA;AACA,OAZA;AAaA,KAdA,EAcA;AAAA,MAAA,SAAA,EAAA;AAAA,KAdA,CAAA;AAgBA,SAAA,EAAA,GAAA,EAAA;AACA,QAAA,SAAA,GAAA,KAAA,KAAA,CAAA,SAAA;;AAEA,QAAA,SAAA,EAAA;AACA,MAAA,UAAA,CAAA,YAAA;AACA,QAAA,EAAA,CAAA,OAAA,CAAA,SAAA;AACA,OAFA,EAEA,IAFA,CAAA;AAGA;AACA,GA5EA;AA6EA,EAAA,SA7EA,uBA6EA;AACA,SAAA,EAAA,CAAA,UAAA;AACA;AA/EA,CAAA","sourcesContent":["<template>\n    <div class=\"container\">\n        <div class=\"card-wrapper\">\n            <div class=\"filter-container\">\n            <div class=\"flex flex-row flex-v-middle flex-between mb-15\">\n                <ul class=\"radio-nav-group\">\n                    <li v-for=\"(order, index) in orders\" \n                        v-bind:class=\"{active: order.active}\" \n                        @click=\"toggleActive(index)\"\n                        v-bind:key=\"index\"\n                        >\n                            {{order.text}}\n                    </li>\n                </ul>\n                <button class=\"btn btn-sm\" @click=\"showModal = true\"> <span class=\"text-caption\">필터</span></button>\n                </div>\n            </div>\n            <section>\n                <template v-for=\"(feed, index) in feeds\">\n                    <Feed v-if=\"index == 0 || index % 4 != 0\" v-bind:key=\"feed.id\" v-bind:feed=\"feed\" @click.native=\"moveDetail(feed.id)\" />\n                    <template v-else-if=\"index > 0 && index % 4 == 0\">\n                        <Advertisement v-bind:key=\"'ad'+feed.id\" v-bind:ad=\"ads[index]\" />\n                        <Feed v-bind:key=\"feed.id\" v-bind:feed=\"feed\" @click.native=\"moveDetail(feed.id)\" />\n                    </template>\n                </template>\n                <div ref=\"lastChild\">\n                </div>\n            </section>\n        </div>\n        <div class=\"sider\">\n            <nav class=\"sider-nav\">\n                <button class=\"btn-green\">로그인</button>\n            </nav>\n        </div>\n        <Category v-if=\"showModal\" @close=\"showModal = false\"/>\n    </div>\n</template>\n\n<script>\nimport {mapGetters, mapActions} from 'vuex'\nimport Feed from './Feed'\nimport Category from './Category'\nimport Advertisement from './Advertisement'\n\nexport default {\n    name: 'Home',\n    data(){\n        return{\n            io: null,\n            selectedIndex: 0,\n            orders: [\n                {\n                    text: \"오름차순\",\n                    value: 'asc',\n                    active: true,\n                },\n                {\n                    text: \"내림차순\",\n                    value: 'desc',\n                    active: false,\n                }\n            ],\n            showModal: false,\n        }\n    },\n    components: {\n        Feed,\n        Category,\n        Advertisement,\n    },\n    computed:{\n        ...mapGetters([\"feeds\", \"nextPageUrl\", \"ads\", \"detail\"]),\n    },\n    methods: {\n        ...mapActions([\"fetchPages\", \"addPages\", \"setOrder\", \"fetchDetail\"]),\n        toggleActive(i){\n           this.orders.forEach((order, index) => {\n               order.active = (index === i);\n\n               if(order.active) this.setOrder(order.value);\n           })\n        },\n        moveDetail(id){\n            this.fetchDetail(id);\n            this.$router.push({\n                name: 'Detail',\n                params:{\n                    id: id\n                }\n            });\n        }\n    },\n    created(){\n        if(this.feeds.length == 0) this.fetchPages();\n    },\n    mounted(){\n        const io = new IntersectionObserver((entries, observer) => {\n            entries.forEach(entry => {\n                if(entry.isIntersecting){\n                    const target = entry.target;\n                    observer.unobserve(target);\n\n                    if(!this.nextPageUrl) return;\n\n                    this.addPages();\n                    setTimeout(()=>{\n                        observer.observe(target);\n                    }, 1000);\n                }\n            })\n        }, {threshold: 1.0});\n\n        this.io = io;\n        const lastChild = this.$refs.lastChild;\n\n        if(lastChild){\n            setTimeout(() => {\n                io.observe(lastChild);\n            }, 1000) ;\n        }\n    },\n    unmounted() {\n        this.io.disconnect();\n    },\n}\n</script>"],"sourceRoot":"src/components"}]}